
<div>

<span>

<span>

<p>
配点 : $525$点
</p>

<div>

<section>

### **問題文**

<p>
数列 $A$があります。
はじめ、$A=(0)$です。
（すなわち、$A$は $0$を唯一の要素として含む長さ $1$の数列です）。
</p>

<p>
クエリが $Q$個与えられるので、順に処理してください。
$i$番目 $(1\leq i\leq Q)$のクエリは以下のいずれかの形式です。
</p>

<ul>

<li>
`1 x`：$A$の中で $x$が現れる場所の直後に $i$を挿入する。
<ul>

<li>
具体的には、現在の $A$の $j$番目の要素を $A_j$、$A$の長さを $n$としたとき、$A_p=x$なる $p$に対して $A$を $(A_1,\dots,A_p,i,A_{p+1},\dots,A_n)$で更新する。
ここで、このクエリを処理する直前の時点で $A$には $x$が含まれていることが保証される。
</li>

</ul>

</li>

<li>
`2 x y`：$A$の中で $x$と $y$の間にある要素の値の合計を出力し、それらの要素を全て削除する。
<ul>

<li>
具体的には、現在の $A$の $j$番目の要素を $A_j$、$A$の長さを $n$としたとき、$A_p=x,A_q=y$なる $p,q$に対して、$A_{\min(p,q)+1} + \dots + A_{\max(p,q)-1}$を出力し、
$A$を $(A_1,\dots,A_{\min(p,q)},A_{\max(p,q)},\dots,A_n)$で更新する。
ここで、このクエリを処理する直前の時点で $A$には $x$および $y$が共に含まれていることが保証される。
</li>

</ul>

</li>

</ul>

<p>
なお、どのようなクエリの列に対しても、クエリを処理する過程で $A$の中に同じ値が複数回現れることはなく、ゆえに $A$の中である値が現れる場所は（存在するならば）一意であることに注意してください。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$1\leq Q \leq 5\times 10^5$
</li>

<li>
$i$番目のクエリについて、
<ul>

<li>
$1$種類目のクエリのとき：
<ul>

<li>
$0\leq x < i$
</li>

<li>
クエリを処理する直前の時点で $A$には $x$が含まれる
</li>

</ul>

</li>

<li>
$2$種類目のクエリのとき：
<ul>

<li>
$0\leq x < y < i$
</li>

<li>
クエリを処理する直前の時点で $A$には $x,y$が共に含まれる
</li>

</ul>

</li>

</ul>

</li>

<li>
入力は全て整数
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$Q$$\text{query}_{1}$$\text{query}_{2}$$\vdots$$\text{query}_{Q}$
</div>

<p>
ここで $\text{query}_{i}$は $i$番目のクエリを表し、以下のいずれかの形式で与えられる。
</p>

<div>

1 $x$
</div>

<div>

2 $x$$y$
</div>

</section>

</div>

<div>

<section>

### **出力**

<p>
$2$種類目のクエリの個数を $q$個として、$q$行出力せよ。
$i$行目には、$2$種類目のクエリのうち $i$番目のものにおいて出力すべき値を出力せよ。
</p>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

6
1 0
1 1
1 0
2 2 3
1 2
2 0 5

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

1
5

</div>

<p>
最初、$A=(0)$です。
</p>

<ul>

<li>
$1$番目のクエリ：$0$の直後に $1$を挿入します。$A=(0,1)$になります。
</li>

<li>
$2$番目のクエリ：$1$の直後に $2$を挿入します。$A=(0,1,2)$になります。
</li>

<li>
$3$番目のクエリ：$0$の直後に $3$を挿入します。$A=(0,3,1,2)$になります。
</li>

<li>
$4$番目のクエリ：$2$と $3$の間にある要素、すなわち $1$を削除し、削除した値の合計である $1$を出力します。$A=(0,3,2)$になります。
</li>

<li>
$5$番目のクエリ：$2$の直後に $5$を挿入します。$A=(0,3,2,5)$になります。
</li>

<li>
$6$番目のクエリ：$0$と $5$の間にある要素、すなわち $3,2$を削除し、削除した値の合計である $5$を出力します。$A=(0,5)$になります。
</li>

</ul>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

2
1 0
2 0 1

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

0

</div>

<p>
$2$番目のクエリでは $0$と $1$の間にある要素を全て削除しますが、実際にはそのような要素は一つも存在せず、要素の削除も行われないため、出力する値は $0$になります。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 3**

<div>

10
1 0
1 1
2 0 2
2 0 2
1 0
1 5
2 0 5
2 2 6
1 6
1 9

</div>

</section>

</div>

<div>

<section>

### **出力例 3**

<div>

1
0
0
0

</div>

</section>

</div>

</span>

</span>

</div>
