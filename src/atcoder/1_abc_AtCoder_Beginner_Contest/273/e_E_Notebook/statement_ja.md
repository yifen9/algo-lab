
<div>

<span>

<span>

<p>
配点 : $500$点
</p>

<div>

<section>

### **問題文**

<p>
整数列 $A$とノートがあります。ノートには $10^9$枚のページがあります。
</p>

<p>
$Q$個のクエリが与えられます。各クエリは下記の $4$種類のいずれかです。
</p>

<div>

ADD $x$: 整数 $x$を $A$の末尾に追加する。

</div>

<div>

DELETE : $A$の末尾の要素を削除する。ただし、$A$が空である場合は何もしない。

</div>

<div>

SAVE $y$: ノートの $y$ページ目に書かれている数列を消し、代わりに現在の $A$を $y$ページ目に書き込む。

</div>

<div>

LOAD $z$: $A$をノートの $z$ページ目に書かれている数列で置き換える。

</div>

<p>
はじめ、$A$は空列であり、ノートのすべてのページには空列の情報が書かれています。
その初期状態から、$Q$個のクエリを与えられる順に実行し、各クエリの実行直後における $A$の末尾の要素を出力してください。
</p>

<p>
なお、入出力の量が多くなる場合があるので、高速な方法で入出力を行うことを推奨します。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$1 \leq Q \leq 5 \times 10^5$
</li>

<li>
$1 \leq x, y, z \leq 10^9$
</li>

<li>
$Q, x, y, z$は整数
</li>

<li>
与えられるクエリは問題文中の $4$種類のいずれか
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$Q$$\mathrm{query}_1$$\mathrm{query}_2$$\vdots$$\mathrm{query}_Q$
</div>

</section>

</div>

<div>

<section>

### **出力**

<p>
下記の形式にしたがい、$i = 1, 2, \ldots, Q$について、$i$番目までのクエリを実行した直後の $A$の末尾の要素 $X_i$を（ $A$が空の場合は $X_i := -1$とする）出力せよ。
</p>

<div>

$X_1$$X_2$$\ldots$$X_Q$
</div>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

11
ADD 3
SAVE 1
ADD 4
SAVE 2
LOAD 1
DELETE
DELETE
LOAD 2
SAVE 1
LOAD 3
LOAD 1

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

3 3 4 4 3 -1 -1 4 4 -1 4

</div>

<p>
はじめ、$A$は空列、すなわち $A = ()$であり、ノートのすべてのページには空列の情報が書かれています。
</p>

<ul>

<li>
$1$番目のクエリによって、 $A$の末尾に $3$が追加され、$A = (3)$となります。
</li>

<li>
$2$番目のクエリによって、ノートの $1$ページ目に書かれた数列が $(3)$になります。$A$は変わらず $A = (3)$です。
</li>

<li>
$3$番目のクエリによって、 $A$の末尾に $4$が追加され、$A = (3, 4)$となります。
</li>

<li>
$4$番目のクエリによって、ノートの $2$ページ目に書かれた数列が $(3, 4)$になります。$A$は変わらず $A = (3, 4)$です。
</li>

<li>
$5$番目のクエリによって、 $A$がノートの $1$ページ目に書かれた数列 $(3)$で置き換えられ、$A = (3)$となります。
</li>

<li>
$6$番目のクエリによって、 $A$の末尾の要素が削除され、$A = ()$となります。
</li>

<li>
$7$番目のクエリでは、$A$がすでに空であるので何もしません。$A$は変わらず $A = ()$です。
</li>

<li>
$8$番目のクエリによって、 $A$がノートの $2$ページ目に書かれた数列 $(3, 4)$で置き換えられ、$A = (3, 4)$となります。
</li>

<li>
$9$番目のクエリによって、ノートの $1$ページ目に書かれた数列が $(3, 4)$になります。$A$は変わらず $A = (3, 4)$です。
</li>

<li>
$10$番目のクエリによって、 $A$がノートの $3$ページ目に書かれた数列 $()$で置き換えられ、$A = ()$となります。
</li>

<li>
$11$番目のクエリによって、 $A$がノートの $1$ページ目に書かれた数列 $(3, 4)$で置き換えられ、$A = (3, 4)$となります。
</li>

</ul>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

21
ADD 4
ADD 3
DELETE
ADD 10
LOAD 7
SAVE 5
SAVE 5
ADD 4
ADD 4
ADD 5
SAVE 5
ADD 2
DELETE
ADD 1
SAVE 5
ADD 7
ADD 8
DELETE
ADD 4
DELETE
LOAD 5

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

4 3 4 10 -1 -1 -1 4 4 5 5 2 5 1 1 7 8 7 4 7 1

</div>

</section>

</div>

</span>

</span>

</div>
