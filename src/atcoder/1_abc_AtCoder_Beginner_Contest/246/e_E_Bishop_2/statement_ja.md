
<div>

<span>

<span>

<p>
配点 : $500$点
</p>

<p>

<b>
コンテスト開催当時はメモリ制限が2GBでしたが、ジャッジ環境が異なるため、現在はメモリ制限を1GBに設定しております。なお、このメモリ制限でもAC出来ることは確認しています。
</b>

</p>

<div>

<section>

### **問題文**

<p>
ここに、 $N \times N$のチェス盤があります。このチェス盤の上から $i$行目、左から $j$列目にあるマスをマス $(i,j)$と呼びます。

チェス盤の情報は $N$個の文字列 $S_i$として与えられます。

文字列 $S_i$の $j$文字目である $S_{i,j}$には、以下の情報が含まれています。
</p>

<ul>

<li>
$S_{i,j}=$`.`のとき マス $(i,j)$には何も置かれていない。
</li>

<li>
$S_{i,j}=$`#`のとき マス $(i,j)$には白のポーンが $1$つ置かれている。このポーンを動かしたり取り除いたりすることはできない。
</li>

</ul>

<p>
この盤面のマス $(A_x,A_y)$に、白のビショップを $1$つ置きました。

この白のビショップをチェスのルール (注記参照) に従ってマス $(A_x,A_y)$からマス $(B_x,B_y)$に移動させるために必要な最小の手数を求めてください。

ただし、移動できない場合は代わりに `-1`を出力してください。
</p>

</section>

</div>

<div>

<section>

### **注記**

<p>
マス $(i,j)$に置かれている白の <a href="https://ja.wikipedia.org/wiki/%E3%83%93%E3%82%B7%E3%83%A7%E3%83%83%E3%83%97">ビショップ</a>は、 $1$手で以下のルールに従って移動することができます。
</p>

<ul>

<li>

<p>
各正整数 $d$について、以下の条件を全て満たせばマス $(i+d,j+d)$に移動できる。
</p>

<ul>

<li>
マス $(i+d,j+d)$が盤内に存在する
</li>

<li>
全ての正整数 $l \le d$について、 $(i+l,j+l)$に白のポーンがない
</li>

</ul>

</li>

<li>

<p>
各正整数 $d$について、以下の条件を全て満たせばマス $(i+d,j-d)$に移動できる。
</p>

<ul>

<li>
マス $(i+d,j-d)$が盤内に存在する
</li>

<li>
全ての正整数 $l \le d$について、 $(i+l,j-l)$に白のポーンがない
</li>

</ul>

</li>

<li>

<p>
各正整数 $d$について、以下の条件を全て満たせばマス $(i-d,j+d)$に移動できる。
</p>

<ul>

<li>
マス $(i-d,j+d)$が盤内に存在する
</li>

<li>
全ての正整数 $l \le d$について、 $(i-l,j+l)$に白のポーンがない
</li>

</ul>

</li>

<li>

<p>
各正整数 $d$について、以下の条件を全て満たせばマス $(i-d,j-d)$に移動できる。
</p>

<ul>

<li>
マス $(i-d,j-d)$が盤内に存在する
</li>

<li>
全ての正整数 $l \le d$について、 $(i-l,j-l)$に白のポーンがない
</li>

</ul>

</li>

</ul>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$2 \le N \le 1500$
</li>

<li>
$1 \le A_x,A_y \le N$
</li>

<li>
$1 \le B_x,B_y \le N$
</li>

<li>
$(A_x,A_y) \neq (B_x,B_y)$
</li>

<li>
$S_i$は `.`および `#`からなる $N$文字の文字列
</li>

<li>
$S_{A_x,A_y}=$`.`
</li>

<li>
$S_{B_x,B_y}=$`.`
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$N$$A_x$$A_y$$B_x$$B_y$$S_1$$S_2$$\vdots$$S_N$
</div>

</section>

</div>

<div>

<section>

### **出力**

<p>
答えを出力せよ。
</p>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

5
1 3
3 5
....#
...#.
.....
.#...
#....

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

3

</div>

<p>
以下のように移動させることで $3$手でビショップを $(1,3)$から $(3,5)$まで移動させることができます。 $2$手以内でビショップを $(1,3)$から $(3,5)$まで移動させることはできません。
</p>

<ul>

<li>
$(1,3) \rightarrow (2,2) \rightarrow (4,4) \rightarrow (3,5)$
</li>

</ul>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

4
3 2
4 2
....
....
....
....

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

-1

</div>

<p>
どのようにビショップを動かしても $(3,2)$から $(4,2)$に移動させることはできません。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 3**

<div>

18
18 1
1 18
..................
.####.............
.#..#..####.......
.####..#..#..####.
.#..#..###...#....
.#..#..#..#..#....
.......####..#....
.............####.
..................
..................
.####.............
....#..#..#.......
.####..#..#..####.
.#.....####..#....
.####.....#..####.
..........#..#..#.
.............####.
..................

</div>

</section>

</div>

<div>

<section>

### **出力例 3**

<div>

9

</div>

</section>

</div>

</span>

</span>

</div>
