
<div>

<span>

<span>

<p>
配点 : $350$点
</p>

<div>

<section>

### **問題文**

<p>
鳩 $1,$鳩 $2,\ldots,$鳩 $N$の $N$羽の鳩と、巣 $1,$巣 $2,\ldots,$巣 $N$の $N$個の巣があります。
</p>

<p>
はじめ、鳩 $i$$(1\leq i\leq N)$は巣 $i$にいます。
</p>

<p>
鳩たちに対して $Q$回の操作を行います。
</p>

<p>
操作は次の $3$種類のうちのいずれかです。
</p>

<ul>

<li>
種類 $1$: 整数 $a,b$$(1\leq a\leq N,1\leq b\leq N)$が与えられる。鳩 $a$を今いる巣から取り出し、巣 $b$へ移動する。
</li>

<li>
種類 $2$: 整数 $a,b$$(1\leq a\lt b\leq N)$が与えられる。巣 $a$にいる鳩をすべて巣 $b$へ移動し、巣 $b$にいる鳩をすべて巣 $a$へ移動する。これら $2$つの移動は一斉に行われる。
</li>

<li>
種類 $3$: 整数 $a$$(1\leq a\leq N)$が与えられる。鳩 $a$が今いる巣の番号を報告する。
</li>

</ul>

<p>
$Q$回の操作を順に行ったときの、種類 $3$の各操作における報告の結果を出力してください。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$1\leq N\leq10 ^ 6$
</li>

<li>
$1\leq Q\leq3\times10 ^ 5$
</li>

<li>
入力される操作はすべて種類 $1,$種類 $2,$種類 $3$のいずれかである。
</li>

<li>
入力される操作は問題文中の制約を満たす。
</li>

<li>
入力される操作のうちに種類 $3$の操作が $1$つ以上含まれる。
</li>

<li>
入力はすべて整数
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$N$$Q$$op _ 1$$op _ 2$$\vdots$$op _ Q$
</div>

<p>
ただし、$i+1$行目の入力 $op _ i$は $i$番目の操作を表しており、$op _ i$は次のいずれかの形式である。
</p>

<p>
$i$番目の操作が種類 $1$の操作のとき、$i+1$行目は次の形式で与えられる。
</p>

<div>

$1$$a$$b$
</div>

<p>
これは、与えられる整数を $a$と $b$として種類 $1$の操作を行うことを表している。
</p>

<p>
$i$番目の操作が種類 $2$の操作のとき、$i+1$行目は次の形式で与えられる。
</p>

<div>

$2$$a$$b$
</div>

<p>
これは、与えられる整数を $a$と $b$として種類 $2$の操作を行うことを表している。
</p>

<p>
$i$番目の操作が種類 $3$の操作のとき、$i+1$行目は次の形式で与えられる。
</p>

<div>

$3$$a$
</div>

<p>
これは、与えられる整数を $a$として種類 $3$の操作を行うことを表している。
</p>

</section>

</div>

<div>

<section>

### **出力**

<p>
与えられる種類 $3$の操作の個数を $q$個として、$q$行にわたって出力せよ。
</p>

<p>
$i$行目 $(1\leq i\leq q)$には、種類 $3$の操作のうち $i$番目の操作で報告される巣の番号を出力せよ。
</p>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

6 8
1 2 4
1 3 6
3 2
2 4 5
3 2
1 4 2
3 4
3 2

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

4
5
2
5

</div>

<p>
与えられる操作で、鳩は以下の図のように移動します。
</p>

<p>

<img src="https://img.atcoder.jp/abc395/e82ad720223ef5e6d6cf8d1d51daa621.png">

</img>

</p>

<p>
種類 $3$の操作でそれぞれ報告すべき巣の番号は $4,5,2,5$なので、`4``5``2``5`を $4$行にわたって出力してください。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

1 2
1 1 1
3 1

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

1

</div>

<p>
種類 $1$の操作で、鳩を取り出した巣にそのまま戻す場合もあります。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 3**

<div>

30 15
3 3
2 8 30
2 12 15
2 2 17
1 19 1
2 7 30
3 12
3 8
2 25 26
1 13 10
1 16 10
2 16 29
2 1 21
2 6 11
1 21 8

</div>

</section>

</div>

<div>

<section>

### **出力例 3**

<div>

3
15
7

</div>

</section>

</div>

</span>

</span>

</div>
