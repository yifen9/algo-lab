
<div>

<span>

<span>

<div>

<section>

### **ストーリー**

<p>
本日 2月2日、日本では
<strong>
節分
</strong>
という伝統行事が行われる。
節分は、季節の変わり目に邪気を払い、福を招くための行事であり、人々は 「鬼は外！」 と唱えながら炒った豆をまいて邪気（鬼）を追い払い、「福は内！」 と唱えながら福を招き入れる。
</p>

<p>
高橋くんは、そんな節分にちなんだ「鬼は外福は内ボードゲーム」を遊んでいる。
このゲームでも、鬼を追い払い、福を呼び込むことが目的である。
</p>

<p>
できるだけ高得点を獲得するような手順を求めて欲しい。
</p>

</section>

</div>

<div>

<section>

### **問題文**

<p>
$N \times N$のマス目からなる盤面がある。
一番左上のマスの座標を $(0,0)$とし、そこから下方向に $i$マス、右方向に $j$マス進んだ先のマスの座標を $(i,j)$とする。
マス $(i,0),(i,1),\cdots,(i,N-1)$を 
<strong>
行 $i$
</strong>
、マス $(0,j),(1,j),\cdots,(N-1,j)$を 
<strong>
列 $j$
</strong>
と呼ぶ。
初期状態では、盤面上に 
<strong>
鬼
</strong>

<img src="https://img.atcoder.jp/ahc042/cnhLtdRT_oni.png">

</img>
と 
<strong>
福
</strong>

<img src="https://img.atcoder.jp/ahc042/cnhLtdRT_fuku.png">

</img>
の駒がそれぞれ $2N$個ずつ、全て異なるマスに存在している。
</p>

<p>
あなたは 1 回の操作で行または列を 1 つ選び、選んだ行/列を、左右/上下のいずれかの方向に 1 マスだけ動かすことが出来る。
</p>

<ul>

<li>
行 $i$を左方向に動かす: マス $(i,0)$にある駒は盤面から取り除かれ、各 $j=1, \dots, N-1$に対し、マス $(i,j)$にある駒は $(i,j-1)$に移動する。
</li>

<li>
行 $i$を右方向に動かす: マス $(i,N-1)$にある駒は盤面から取り除かれ、各 $j=0, \dots, N-2$に対し、マス $(i,j)$にある駒は $(i,j+1)$に移動する。
</li>

<li>
列 $j$を上方向に動かす: マス $(0,j)$にある駒は盤面から取り除かれ、各 $i=1, \dots, N-1$に対し、マス $(i,j)$にある駒は $(i-1,j)$に移動する。
</li>

<li>
列 $j$を下方向に動かす: マス $(N-1,j)$にある駒は盤面から取り除かれ、各 $i=0, \dots, N-2$に対し、マス $(i,j)$にある駒は $(i+1,j)$に移動する。
</li>

</ul>

<p>
操作は最大で $4N^2$回まで行うことができる。
あなたの目的は、できるだけ少ない操作回数で、福を一つも取り除くことなく、盤面上のすべての鬼を取り除くことである。
</p>

</section>

</div>

<div>

<section>

### **得点**

<p>
出力した操作列における操作回数を $T$、最終的に盤面上に残る鬼の個数を $X$、盤面から取り除かれた福の個数を $Y$とする。
このとき、以下の得点が得られる。
</p>

<ul>

<li>
$X=Y=0$の場合、$8N^2 - T$
</li>

<li>
$X>0$または $Y>0$の場合、$4N^2 - N (X+Y)$
</li>

</ul>

<p>
合計で 150 個のテストケースがあり、各テストケースの得点の合計が提出の得点となる。
一つ以上のテストケースで不正な出力や制限時間超過をした場合、提出全体の判定が
<span>
WA
</span>
や
<span>
TLE
</span>
となる。
コンテスト時間中に得た最高得点で最終順位が決定され、コンテスト終了後のシステムテストは行われない。 同じ得点を複数の参加者が得た場合、提出時刻に関わらず同じ順位となる。
</p>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$N$$C_0$$\vdots$$C_{N-1}$
</div>

<ul>

<li>
盤面の大きさ $N$は 全てのテストケースで $N=20$に固定されている。
</li>

<li>
各 $i=0,1,\cdots,N-1$に対し、$C_i$は行 $i$の初期状態を表す長さ $N$の文字列であり、その $j$文字目は、次のいずれかで表される。
<ul>

<li>
`x`: 鬼が存在する
</li>

<li>
`o`: 福が存在する
</li>

<li>
`.`: 鬼も福も存在しない
</li>

</ul>

</li>

<li>
鬼と福の個数はそれぞれ $2N$である。
</li>

<li>

<strong>
初期状態で鬼が存在する各マスについて、次のいずれかの条件を満たすことが保証されている。これにより、盤面上のすべての鬼を取り除き、すべての福を残すような、$4N^2$手以下の操作手順が必ず存在する。
</strong>

<ul>

<li>
同じ列の上方向にあるすべてのマスに福が存在しない。
</li>

<li>
同じ列の下方向にあるすべてのマスに福が存在しない。
</li>

<li>
同じ行の左方向にあるすべてのマスに福が存在しない。
</li>

<li>
同じ行の右方向にあるすべてのマスに福が存在しない。
</li>

</ul>

</li>

</ul>

#### **ヒント**

<p>
鬼が存在するマス $(i,j)$について、上方向に福が存在しない場合、上方向の操作を $i+1$回、下方向の操作を $i+1$回行うと、福を一つも取り除くことなく鬼 $(i,j)$を取り除くことが出来る。
同様に、下・左・右の各方向に福が存在しない場合も、対応する操作を行うことで鬼を取り除くことができる。
この操作を行う前後で盤面上に残る駒の位置は変化しないため、すべての鬼に対してこの操作を適用することで、福を一つも取り除くことなく、すべての鬼を取り除くことが可能である。
</p>

</section>

</div>

<div>

<section>

### **出力**

<p>
$t$手目の操作を以下のようにして方向を表す文字 $d_t$と行・列の番号を表す数値 $p_t$の組 $(d_t, p_t)$で表す。
</p>

<ul>

<li>
行 $i$を左方向に動かす: (`L`, $i$)
</li>

<li>
行 $i$を右方向に動かす: (`R`, $i$)
</li>

<li>
列 $j$を上方向に動かす: (`U`, $j$)
</li>

<li>
列 $j$を下方向に動かす: (`D`, $j$)
</li>

</ul>

<p>
このとき、以下の形式で標準出力に出力せよ。
</p>

<div>

$d_0$$p_0$$\vdots$$d_{T-1}$$p_{T-1}$
</div>

<p>
出力の操作回数 $T$は $4N^2$以下でなければならない。
上限を超えた場合、
<span>
WA
</span>
と判定される。
</p>

<p>
<a href="https://img.atcoder.jp/ahc042/cnhLtdRT.html?lang=ja&seed=0&output=sample">例を見る</a>
</p>

</section>

</div>

<div>

<section>

### **入力生成方法**

<p>
まず、$N^2$個のマスの中から異なる $2N$マスをランダムに選び、$2N$個の福の駒の位置を決定する。
</p>

<p>
次に、次のいずれかの条件を満たすマスを列挙し、これを $S$とする。
</p>

<ul>

<li>
同じ列の上方向にあるすべてのマスに福が存在しない。
</li>

<li>
同じ列の下方向にあるすべてのマスに福が存在しない。
</li>

<li>
同じ行の左方向にあるすべてのマスに福が存在しない。
</li>

<li>
同じ行の右方向にあるすべてのマスに福が存在しない。
</li>

</ul>

<p>
もし $S$の要素数が $2N$より小さい場合、福の生成をやり直す。
</p>

<p>
最後に、$S$からランダムに $2N$個のマスを選び、鬼の駒の位置を決定する。
</p>

</section>

</div>

<div>

<section>

### **ツール(入力ジェネレータ・ビジュアライザ)**

<ul>

<li>
<a href="https://img.atcoder.jp/ahc042/cnhLtdRT.html?lang=ja">Web版</a>: ローカル版より高性能でアニメーション表示と手動プレイが可能です。
</li>

<li>
<a href="https://img.atcoder.jp/ahc042/cnhLtdRT.zip">ローカル版</a>: 使用するには<a href="https://www.rust-lang.org/ja">Rust言語</a>のコンパイル環境をご用意下さい。
<ul>

<li>
<a href="https://img.atcoder.jp/ahc042/cnhLtdRT_windows.zip">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。
</li>

</ul>

</li>

</ul>

<p>
コンテスト期間中に、ビジュアライズ結果の共有や、解法・考察に関する言及は禁止されています。ご注意下さい。
</p>

</section>

</div>

</div>

</span>

</span>

</div>
