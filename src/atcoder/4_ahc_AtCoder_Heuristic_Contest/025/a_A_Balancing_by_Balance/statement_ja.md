
<div>

<span>

<span>

<div>

<section>

### **ストーリー**

<p>
AtCoder社は<a href="https://suzuri.jp/AtCoder">AtCoderグッズの通販</a>をしている。
高橋社長は売れ残ったグッズをまとめて福袋として販売することにした。
各袋の重さは出来るだけ均等になることが好ましいが、困ったことに、AtCoder社のオフィスには重さを数値で計ることの出来るはかりがなかった。
代わりに天秤を見つけたので、天秤を使って重さの比較をすることで、出来るだけ均等に分割して欲しい。
</p>

</section>

</div>

<div>

<section>

### **問題文**

<p>
$N$個のアイテムがある。
各アイテム $i$の重さ $w_i$は未知であり、
2つのアイテム集合の重さの総和を比較することの出来る天秤を用いて、以下の操作を繰り返し行う。
</p>

<p>
天秤の左右の皿にアイテムを好きなだけ乗せる。乗せたアイテムの重さの総和が左と右どちらが大きいか、もしくは等しいかが判明する。
</p>

<p>
この操作を $Q$回繰り返すことにより、出来るだけ重さの総和の等しい $D$個の集合にアイテムを分割せよ。
</p>

</section>

</div>

<div>

<section>

### **得点**

<p>
出力した分割における各集合の重さの総和を $t_0,t_1,\cdots,t_{D-1}$、$t$の平均を $\bar{t}=\frac{1}{D}\sum_{i=0}^{D-1}t_i$とすると、その分散は
$V=\frac{1}{D}\sum_{i=0}^{D-1} (t_i-\bar{t})^2$により求まる。
このとき、$1+\mathrm{round}\left(100\times \sqrt{V}\right)$の絶対スコアが得られる。
絶対スコアは小さければ小さいほど良い。
</p>

<p>
各テストケース毎に、絶対スコアの小さい順での順位に応じた
<font color="red">
<strong>
順位スコア
</strong>
</font>
が得られ、その和が提出の得点となる。
順位スコアは以下のように計算され、高ければ高いほど良い。
</p>

<p>
コンテストの提出者数を $n_{submit}$、自身より小さい絶対スコアを獲得した参加者の人数を $n_{lose}$、自身と等しい絶対スコアを獲得した他の参加者の人数を $n_{tie}$とする。この時、このテストケースにおける順位は $r=n_{lose}+0.5 n_{tie}$と定まり、順位スコアは $\mathrm{round}(10^9\times (1-\frac{r}{n_{submit}}))$となる。
</p>

<p>
最終順位はコンテスト終了後に実施されるより多くの入力に対するシステムテストにおける得点で決定される。
暫定テスト、システムテストともに、不正な出力や制限時間超過をした場合、そのテストケースの順位スコアのみ0点となる。
システムテストは
<font color="red">
<strong>

<span>
CE
</span>
以外の結果を得た一番最後の提出
</strong>
</font>
に対してのみ行われるため、最終的に提出する解答を間違えないよう注意せよ。
</p>

#### **テストケース数**

<ul>

<li>
暫定テスト: 100個
</li>

<li>
システムテスト: 5000個、コンテスト終了後に <a href="https://img.atcoder.jp/ahc025/seeds.txt">seeds.txt</a>(sha256=8a39261299bef0387172c0e0c4523c49b0cb993efd4f702ec7cf5124cf5b4c55) を公開
</li>

</ul>

#### **相対評価システムについて**

<p>
暫定テスト、システムテストともに、
<span>
CE
</span>
以外の結果を得た一番最後の提出のみが順位表に反映される。
</p>

<p>
順位表に表示されているスコアは相対評価スコアであり、新規提出があるたびに、相対評価スコアが再計算される。
一方、提出一覧から確認出来る各提出のスコアは各テストケース毎の絶対スコアをそのまま足し合わせたものであり、相対評価スコアは表示されない。
最新以外の提出の、現在の順位表における相対評価スコアを知るためには、再提出が必要である。
不正な出力や制限時間超過をした場合、提出一覧から確認出来るスコアは0となるが、順位表には正解したテストケースに対する順位スコアの和が表示されている。
</p>

#### **実行時間について**

<p>
実行時間には多少のブレが生じます。
また、システムテストでは同時に大量の実行を行うため、暫定テストに比べて数%程度実行時間が伸びる現象が確認されています。
そのため、実行時間制限ギリギリの提出がシステムテストで
<span>
TLE
</span>
となる可能性があります。
プログラム内で時間を計測して処理を打ち切るか、実行時間に余裕を持たせるようお願いします。
</p>

</section>

</div>

<div>

<section>

### **入出力**

<p>
まずはじめに、標準入力からアイテム数 $N$、分割数 $D$、クエリ回数 $Q$が以下の形式で与えられる。
</p>

<div>

$N$$D$$Q$
</div>

<p>
各値はそれぞれ以下の制約を満たす。
</p>

<ul>

<li>
$30\leq N\leq 100$
</li>

<li>
$2\leq D\leq N/4$
</li>

<li>
$2N\leq Q\leq 32N$
</li>

</ul>

<p>
上記の情報を読み込んだら、以下のクエリを $Q$回繰り返す。
</p>

<p>
$q$($0\leq q\leq Q-1$) 回目のクエリではまず、天秤の左側に乗せるアイテム集合 $L$と右側に乗せるアイテム集合 $R$を選択する。
それぞれ空集合であってはならず、また共通部分 $L\cap R$は空でなければならない。
$L$と $R$のどちらにも含まれないアイテムがあっても良い。
$n_L=|L|$、$n_R=|R|$、$L=\{l_0,\cdots,l_{n_L-1}\}$、$R=\{r_0,\cdots,r_{n_R-1}\}$($0\leq l_i,r_i\leq N-1$) としたとき、以下の形式で一行で標準出力に出力せよ。
</p>

<div>

$n_L$$n_R$$l_0$$\cdots$$l_{n_L-1}$$r_0$$\cdots$$r_{n_R-1}$
</div>

<p>

<font color="red">
<strong>
出力の後には改行をし、更に標準出力を flush しなければならない。
</strong>
</font>
そうしない場合、
<span>
TLE
</span>
となる可能性がある。
</p>

<p>
出力を行うと、天秤がどちら側に傾いたかの情報が標準入力から一行で与えられる。
与えられる文字列は以下の3通りのいずれかである。
</p>

<ul>

<li>
`<`: $L$の重さの総和は $R$の重さの総和より小さい。
</li>

<li>
`>`: $L$の重さの総和は $R$の重さの総和より大きい。
</li>

<li>
`=`: $L$の重さの総和は $R$の重さの総和と等しい。
</li>

</ul>

<p>
クエリは必ず $Q$回行う必要がある。
$Q$回のクエリ処理が完了後、出来るだけ重さの総和の等しい $D$個の集合にアイテムを分割せよ。
$i$($0\leq i\leq N-1$) 番目のアイテムを $d_i$($0\leq d_i\leq D-1$) 番目の集合に含めるとした時、以下の形式で一行で標準出力に出力せよ。
</p>

<div>

$d_0$$\cdots$$d_{N-1}$
</div>

#### **例**

<table>

<thead>

<tr>

<th>
$q$
</th>

<th>
Output
</th>

<th>
Input
</th>

</tr>

</thead>

<tbody>

<tr>

<td>
事前情報
</td>

<td>

</td>

<td>

<div>

31 2 128
</div>

</td>

</tr>

<tr>

<td>
0
</td>

<td>

<div>

2 1 6 22 11
</div>

</td>

<td>

<div>

>
</div>

</td>

</tr>

<tr>

<td>
1
</td>

<td>

<div>

2 2 11 22 0 1
</div>

</td>

<td>

<div>

<
</div>

</td>

</tr>

<tr>

<td>
$\vdots$
</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td>
127
</td>

<td>

<div>

1 1 14 24
</div>

</td>

<td>

<div>

<
</div>

</td>

</tr>

<tr>

<td>
分割
</td>

<td>

<div>

0 0 0 0 0 0 1 1 1 0 1 1 1 0 0 0 1 1 0 0 0 0 0 1 1 1 0 0 0 1 0
</div>

</td>

<td>

</td>

</tr>

</tbody>

</table>

<p>
<a href="https://img.atcoder.jp/ahc025/tNvZmDfV.html?lang=ja&seed=0&output=sample">例を見る</a>
</p>

</section>

</div>

<div>

<section>

### **入力生成方法**

<p>
$L$以上 $U$以下の整数値を一様ランダムに生成する関数を $\mathrm{rand\_int}(L,U)$、
$L$以上 $U$未満の実数値を一様ランダムに生成する関数を $\mathrm{rand\_double}(L,U)$で表す。
</p>

<p>
アイテム数 $N$は $\mathrm{rand\_int}(30,100)$により生成される。
分割数 $D$は $\mathrm{rand\_int}(2,\mathrm{floor}(N/4))$により生成される。
クエリ回数 $Q$は $\mathrm{round}(N\times 2^{\mathrm{rand\_double(1,5)}})$により生成される。
</p>

<p>
各アイテム $i$についてそれぞれ独立に、$\lambda=10^{-5}$の<a href="https://ja.wikipedia.org/wiki/%E6%8C%87%E6%95%B0%E5%88%86%E5%B8%83">指数分布</a>から値 $w'_i$を生成し、アイテム $i$の重みを $w_i=\max(1, \mathrm{round}(w'_i))$と設定する。ただし、生成した値 $w'_i$が $\frac{10^5 N}{D}$を越えた場合は、再度その値を生成し直す。
</p>

</section>

</div>

<div>

<section>

### **ツール(入力ジェネレータ・ローカルテスタ・ビジュアライザ)**

<ul>

<li>
<a href="https://img.atcoder.jp/ahc025/tNvZmDfV.html?lang=ja">Web版</a>: ローカル版より高性能でアニメーション表示が可能です。
</li>

<li>
<a href="https://img.atcoder.jp/ahc025/tNvZmDfV.zip">ローカル版</a>: 使用するには<a href="https://www.rust-lang.org/ja">Rust言語</a>のコンパイル環境をご用意下さい。
<ul>

<li>
<a href="https://img.atcoder.jp/ahc025/tNvZmDfV_windows.zip">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。
</li>

</ul>

</li>

</ul>

<p>

<font color="red">
<b>
コンテスト期間中に、ビジュアライズ結果の共有や、解法・考察に関する言及は禁止されています。ご注意下さい。
</b>
</font>

</p>

#### **ツールで用いられる入出力ファイルの仕様**

<p>
ローカルテスタに与える入力ファイルは以下の形式を用いている。
</p>

<div>

$N$$D$$Q$$w_0$$\cdots$$w_{N-1}$
</div>

<p>
最後の $w_0$$\cdots$$w_{N-1}$は各アイテムの重さであり、解答プログラムには与えられない。
</p>

<p>
ローカルテスタは解答プログラムの出力をそのまま出力ファイルに書き出す。
解答プログラムは、`#`から始まるコメント行を出力に含めても良い。 Web版ビジュアライザを使用すると、コメント行を対応するタイミングで表示出来るため、デバッグや考察等に役立てることが出来る。 ジャッジプログラムはコメント行を全て無視するため、コメント行を出力するプログラムをそのまま提出可能である。
また、`#c`から始まるコメント行は特別扱いされ、以下の形式で出力することにより、その時点での暫定的な解をビジュアライザに通知することが出来る。
</p>

<div>

#c $d_0$$\cdots$$d_{N-1}$
</div>

</section>

</div>

</span>

</span>

</div>
