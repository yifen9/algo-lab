
<div>

<span>

<span>

<p>
配点 : $600$点
</p>

<div>

<section>

### **問題文**

<p>

<strong>
この問題はインタラクティブな問題です。
</strong>

</p>

<p>
正整数 $N$が与えられます。
</p>

<p>
すぬけくんは、$(1,2,\dots,N)$を並び替えた正整数列 $P=(P_1,P_2,\dots,P_N)$と、長さ $N$の正整数列 $A=(A_1,A_2,\dots,A_N)$を隠し持っています。
<strong>
ここで、$P_1<P_2$が保証されます。
</strong>

</p>

<p>
あなたは、すぬけくんに $2N$回までクエリを送ることができます。クエリは以下のようなものです。
</p>

<ul>

<li>
$1\leq s,t\leq N$なる
<strong>
相異なる
</strong>
正整数 $s,t$を指定し、$\displaystyle \sum_{i=\min(P_s,P_t)}^{\max(P_s,P_t)}A_i$の値を教えてもらう。
</li>

</ul>

<p>
$P,A$を特定してください。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$3\leq N\leq 5000$
</li>

<li>
$1\leq P_i\leq N$$(1\leq i\leq N)$
</li>

<li>
$P_i\ne P_j$$(i\ne j)$
</li>

<li>
$P_1<P_2$
</li>

<li>
$1\leq A_i\leq 10^9$$(1\leq i\leq N)$
</li>

<li>
$N,P_i,A_i$は整数
</li>

<li>
$P,A$はジャッジとの対話前に決定される
</li>

</ul>

</section>

</div>

<div>

<section>

### **入出力**

<p>
この問題はインタラクティブな問題です。
</p>

<p>
最初に、$N$が標準入力から与えられます。
</p>

<div>

$N$
</div>

<p>
次に、あなたはすぬけくんに $2N$回以下クエリを送ることができます。
<strong>
相異なる
</strong>
正整数 $s,t$を指定してクエリを送るとき、以下のように出力してください。末尾に改行を入れることを忘れないでください。
</p>

<div>

? $s$$t$
</div>

<p>
クエリを送ると、すぬけくんからの返答が以下の形式で標準入力から与えられます。
</p>

<div>

$X$
</div>

<p>
ここで、$X$は整数で、
</p>

<ul>

<li>
$X\ne -1$のとき $\displaystyle \sum_{i=\min(P_s,P_t)}^{\max(P_s,P_t)}A_i$の値が $X$であることを表します。
</li>

<li>
$X=-1$のとき、$s,t$が制約を満たしていないか、クエリを送った回数が $2N$回を超えたことをします。
<ul>

<li>
このとき、プログラムはすでに不正解とみなされています。ただちにプログラムを終了してください。
</li>

</ul>

</li>

</ul>

<p>
$P$と $A$を特定することができたら、答えを以下の形式で出力してください。これはクエリの回数には計上されません。
</p>

<div>

! $P_1$$P_2$$\dots$$P_N$$A_1$$A_2$$\dots$$A_N$
</div>

<p>

<strong>
特に $P_1<P_2$であることに注意してください。
</strong>
この出力の後、ただちにプログラムを終了してください。
</p>

<p>
上記のいずれの形式にも当てはまらない出力をした場合は、`-1`が標準入力から与えられます。
</p>

<div>

-1

</div>

<p>
このときも、プログラムはすでに不正解とみなされています。ただちにプログラムを終了してください。
</p>

</section>

</div>

<div>

<section>

### **注意点**

<ul>

<li>

<font color="red">
<strong>
出力を行うたびに、末尾に改行を入れて標準出力をflushしてください。そうしなかった場合、ジャッジ結果が 
<span>
TLE
</span>
となる可能性があります。
</strong>
</font>

</li>

<li>
解答を出力したとき、または `-1`を標準入力から受け取ったとき、ただちにプログラムを終了してください。そうしなかった場合の判定結果は不定です。
</li>

<li>
余計な改行は不正なフォーマットの出力とみなされることに注意してください。
</li>

<li>

<strong>
この問題のジャッジシステムは適応的ではありません。
</strong>
つまり、$P$と $A$はジャッジとの対話前に決定され、いかなるタイミングでも変更されることはありません。
</li>

</ul>

</section>

</div>

<div>

<section>

### **入出力例**

<p>
$N=6,P=(2,4,6,5,3,1),A=(1,9,2,25,2,9)$のときの対話の一例を示します。
</p>

<table>

<thead>

<tr>

<th>
入力
</th>

<th>
出力
</th>

<th>
説明
</th>

</tr>

</thead>

<tbody>

<tr>

<td>
`6`
</td>

<td>

</td>

<td>
まず整数 $N$が標準入力から与えられます。
</td>

</tr>

<tr>

<td>

</td>

<td>
`? 1 2`
</td>

<td>
$s=1,t=2$としてすぬけくんにクエリを送ります。
</td>

</tr>

<tr>

<td>
`36`
</td>

<td>

</td>

<td>
出力は制約を満たしているので、$\displaystyle \sum_{i=\min(P_1,P_2)}^{\max(P_1,P_2)}A_i$の値である $36$が与えられます。
</td>

</tr>

<tr>

<td>

</td>

<td>
`? 2 5`
</td>

<td>
$s=2,t=5$としてすぬけくんにクエリを送ります。
</td>

</tr>

<tr>

<td>
`27`
</td>

<td>

</td>

<td>
出力は制約を満たしているので、$\displaystyle \sum_{i=\min(P_2,P_5)}^{\max(P_2,P_5)}A_i$の値である $27$が与えられます。
</td>

</tr>

<tr>

<td>

</td>

<td>
`! 2 4 6 5 3 1 1 9 2 25 2 9`
</td>

<td>
$P$と $A$が特定できたことを報告します。この出力の後、ただちにプログラムを終了することで正解と判定されます。
</td>

</tr>

</tbody>

</table>

<p>
これは対話の一例であることに注意してください。特に、ここまでのクエリとその返答で $P$と $A$を確実に特定できるとは限りません。
</p>

</section>

</div>

</span>

</span>

</div>
