
<div>

<span>

<span>

<p>
配点 : $600$点
</p>

<div>

<section>

### **問題文**

<p>
$1$から $N$までの整数からなる長さ $N$の順列 $P=(P_1,P_2,\dots,P_N)$が与えられます。
</p>

<p>
各 $i=1,2,\dots,N$に対し、以下の条件をすべて満たす $2$つの整数の組 $(l,r)$に対する $r-l+1$の最小値を出力してください。ただし、そのような $(l,r)$が存在しない場合は `-1`を出力してください。
</p>

<ul>

<li>
$1 \leq l \leq i \leq r \leq N$
</li>

<li>
$r-l+1$は奇数
</li>

<li>
$P$の連続部分列 $(P_l,P_{l+1},\dots,P_r)$の中央値は $P_i$
<b>
ではない
</b>

</li>

</ul>

<p>
ここで、長さが $L$（奇数）の整数列 $A$に対して $A$の中央値とは、 $A$を昇順にソートして得られる数列を $A'$として $A'$の $\frac{L+1}{2}$番目の値のことを指します。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$3 \leq N \leq 3 \times 10^5$
</li>

<li>
$(P_1,P_2,\dots,P_N)$は $1$から $N$までの整数からなる順列
</li>

<li>
入力される値はすべて整数
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$N$$P_1$$P_2$$\dots$$P_N$
</div>

</section>

</div>

<div>

<section>

### **出力**

<p>
$i=1,2,\dots,N$に対する答えをこの順に空白区切りで出力せよ。
</p>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

5
1 3 5 4 2

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

3 3 3 5 3

</div>

<p>
例えば $i=2$のとき、 $(l,r)=(2,4)$とすると $r-l+1=3$は奇数であり、 $(P_2,P_3,P_4)=(3,5,4)$の中央値は $4$となり、 $P_2$ではないため条件を満たします。よって答えは $3$です。
</p>

<p>
一方、$i=4$のとき、 $(l,r)=(4,4),(2,4),(3,5)$に対して、 $(P_l,\dots,P_r)$の中央値は常に $P_4=4$です。$(l,r)=(1,5)$とすると $(P_1,P_2,P_3,P_4,P_5)=(1,3,5,4,2)$の中央値は $3$となり、 $P_4$ではないため条件を満たします。よって答えは $5$です。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

3
2 1 3

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

-1 3 3

</div>

<p>
$i=1$のとき、条件を満たす整数の組 $(l,r)$は存在しません。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 3**

<div>

14
7 14 6 8 10 2 9 5 4 12 11 3 13 1

</div>

</section>

</div>

<div>

<section>

### **出力例 3**

<div>

5 3 3 7 3 3 3 5 3 3 5 3 3 3

</div>

</section>

</div>

</span>

</span>

</div>
