
<div>

<span>

<span>

<p>
配点 : $900$点
</p>

<div>

<section>

### **問題文**

<p>
ラーメン店「高橋屋」のメニューは基本的には「ラーメン」の一つだけですが、$N$種類のトッピングも提供されています。客がラーメンを注文するとき、それぞれの種類のトッピングを「乗せる」か「乗せない」かを選ぶことができます。乗せるトッピングの数に制限はなく、すべてのトッピングを乗せることも、トッピングを一つも乗せないこともできます。つまり、トッピングの組み合わせを考慮すると $2^N$通りのラーメンを注文できます。
</p>

<p>
赤木さんが高橋屋に入店しました。彼女は、次の二つの条件をともに満たすようにラーメンを何杯か注文しようと考えています。
</p>

<ul>

<li>
トッピングの組み合わせがまったく同じラーメンを複数杯注文しない。
</li>

<li>
$N$種類のトッピングそれぞれが、注文したラーメンのうち $2$杯以上に乗っている。
</li>

</ul>

<p>
$N$と素数 $M$が与えられます。これらの条件を満たすようなラーメンの組み合わせの数を $M$で割ったあまりを求めてください。ラーメンの順番は考慮しません。また、赤木さんは極限の空腹状態にあるため、ラーメンを何杯注文しても問題ありません。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$2 \leq N \leq 3000$
</li>

<li>
$10^8 \leq M \leq 10^9 + 9$
</li>

<li>
$N$は整数である。
</li>

<li>
$M$は素数である。
</li>

</ul>

</section>

</div>

<div>

<section>

### **部分点**

<ul>

<li>
$N ≤ 50$を満たすテストセットに正解すると、$600$点が与えられる。
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$N$$M$
</div>

</section>

</div>

<div>

<section>

### **出力**

<p>
条件を満たすようなラーメンの組み合わせの数を $M$で割ったあまりを出力せよ。
</p>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

2 1000000007

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

2

</div>

<p>
$2$種類のトッピングを A, B とします。注文できるラーメンは「トッピングなし」「A 乗せ」「B 乗せ」「A, B 乗せ」の $4$通りです。条件を満たすラーメンの組み合わせは次の $2$通りです。
</p>

<ul>

<li>
「A 乗せ」「B 乗せ」「A, B 乗せ」の $3$杯
</li>

<li>
全通りのラーメン $1$杯ずつ、合計 $4$杯
</li>

</ul>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

3 1000000009

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

118

</div>

<p>
$3$種類のトッピングを A, B, C とします。入出力例 1 で述べた $4$通りのラーメンに加えて、それらに C を付け足した $4$通りのラーメンも注文できます。条件を満たすラーメンの組み合わせは $118$通りありますが、そのうちのいくつかを挙げます。
</p>

<ul>

<li>
「A, B 乗せ」「A, C 乗せ」「B, C 乗せ」の $3$杯
</li>

<li>
「トッピングなし」「A 乗せ」「A, B 乗せ」「B, C 乗せ」「A, B, C 乗せ」の $5$杯
</li>

<li>
全通りのラーメン $1$杯ずつ、合計 $8$杯
</li>

</ul>

<p>
なお、「『A 乗せ』『B 乗せ』『A, B 乗せ』の $3$杯」は条件を満たしません。C がどのラーメンにも乗っていないためです。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 3**

<div>

50 111111113

</div>

</section>

</div>

<div>

<section>

### **出力例 3**

<div>

1456748

</div>

<p>
組み合わせの数を $M$で割ったあまりを出力することをお忘れなく。なお、以上の三つの入力例は、部分点のためのテストセットに含まれます。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 4**

<div>

3000 123456791

</div>

</section>

</div>

<div>

<section>

### **出力例 4**

<div>

16369789

</div>

<p>
この入力例は、部分点のためのテストセットに含まれません。
</p>

</section>

</div>

</span>

</span>

</div>
