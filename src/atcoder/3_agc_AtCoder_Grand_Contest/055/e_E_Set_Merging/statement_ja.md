
<div>

<span>

<span>

<p>
配点 : $1500$点
</p>

<div>

<section>

### **問題文**

<p>
$N$個の集合 $S_1, S_2, \ldots, S_N$があります。はじめ、$1$から $N$までの各 $i$について、集合 $S_i$は整数 $i$のみを含みます（すなわち、$S_i = \{i\}$です）。
</p>

<p>
あなたは、次の操作を行うことができます。
</p>

<ul>

<li>
$1 \le i \le N-1$であるような $i$を任意に選び、$U = S_i \cup S_{i+1}$（$S_i$と $S_{i+1}$の和集合）とする。
そして、$S_i, S_{i+1}$をともに $U$で置き換える。
</li>

</ul>

<p>
あなたの目標は、有限回の操作を行い（$0$回でもよい）、$1$から $N$までの全ての $i$について $S_i = \{L_i, L_i+1, \ldots, R_i-1, R_i\}$であるような状態に至ることです。これは可能でしょうか。可能であるなら、それに必要な最小の操作回数も求めてください。
</p>

</section>

</div>

<div>

<section>

### **制約**

<ul>

<li>
$1 \le N \le 5\cdot 10^5$
</li>

<li>
$1 \le L_i \le R_i \le N$
</li>

</ul>

</section>

</div>

---

<div>

<div>

<section>

### **入力**

<p>
入力は以下の形式で標準入力から与えられる。
</p>

<div>

$N$$L_1$$R_1$$L_2$$R_2$$\vdots$$L_N$$R_N$
</div>

</section>

</div>

<div>

<section>

### **出力**

<p>
目標状態が到達可能なら、到達に必要な最小の操作回数を出力せよ。そうでなければ、`-1`を出力せよ。
</p>

</section>

</div>

</div>

---

<div>

<section>

### **入力例 1**

<div>

3
1 2
1 2
1 3

</div>

</section>

</div>

<div>

<section>

### **出力例 1**

<div>

-1

</div>

<p>
目標状態が到達不能であることを証明できます。
</p>

</section>

</div>

---

<div>

<section>

### **入力例 2**

<div>

4
1 3
1 4
1 4
2 4

</div>

</section>

</div>

<div>

<section>

### **出力例 2**

<div>

4

</div>

<p>
以下のように操作を行うことで到達可能です。
</p>

<ul>

<li>
$i = 2$を選び、$S_1 = \{1\}, S_2 = \{2, 3\}, S_3 = \{2, 3\}, S_4 = \{4\}$とする
</li>

<li>
$i = 1$を選び、$S_1 = \{1, 2, 3\}, S_2 = \{1, 2, 3\}, S_3 = \{2, 3\}, S_4 = \{4\}$とする
</li>

<li>
$i = 3$を選び、$S_1 = \{1, 2, 3\}, S_2 = \{1, 2, 3\}, S_3 = \{2, 3, 4\}, S_4 = \{2, 3, 4\}$とする
</li>

<li>
$i = 2$を選び、$S_1 = \{1, 2, 3\}, S_2 = \{1, 2, 3, 4\}, S_3 = \{1, 2, 3, 4\}, S_4 = \{2, 3, 4\}$とする
</li>

</ul>

</section>

</div>

</span>

</span>

</div>
